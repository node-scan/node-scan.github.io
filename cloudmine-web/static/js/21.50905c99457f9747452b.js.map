{"version":3,"sources":["webpack:///src/pages/personalCenter/forgetPassword.vue","webpack:///./src/pages/personalCenter/forgetPassword.vue?9e74","webpack:///./src/pages/personalCenter/forgetPassword.vue"],"names":["forgetPassword","name","data","_this","this","resetForm","loginName","isNext","nextForm","password","comfirPassword","userOneDialog","userOneForm","verifyCode","verifyCode2","resetRules","required","message","trigger","validator","rule","value","callback","match","test","Error","min","max","RegExp","$refs","validateField","validate","FormValidate","Form","checkCode","isAliyun","verifyId","verifyForm","verifys","label","verifyType","disabled","methods","next","formName","_this2","valid","forgotPassword","reset","_this3","resetCode","_this4","push","length","$api","checkCaptcha","action","stringify_default","then","res","messages","catch","err","$message","error","type","_this5","parames","undefined","extends_default","passportId","password1","sign","ret","$router","path","code","JSON","parse","Object","comm","setTimeout","getCode","el","_this6","resetFields","personalCenter_forgetPassword","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","id","span","src","width","_v","directives","rawName","expression","ref","model","rules","nativeOn","submit","$event","preventDefault","prop","placeholder","keyup","indexOf","_k","keyCode","key","$$v","$set","slot","on","click","to","visible","close-on-click-modal","update:visible","staticStyle","margin","_s","maxlength","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/21.50905c99457f9747452b.js","sourcesContent":["<template>\r\n  <div class=\"userOperate\" id=\"userOperate\">\r\n    <el-row class=\"userAction resetPass\">\r\n      <el-col :span=\"12\" class=\"center\">\r\n        <img src=\"/static/image/loignImg.png\" width=\"408\" />\r\n      </el-col>\r\n      <el-col :span=\"12\" class=\"userActionItem\">\r\n        <p class=\"center userActionTitle\">重置密码</p>\r\n        <el-form\r\n          :model=\"resetForm\"\r\n          :rules=\"resetRules\"\r\n          ref=\"resetForm\"\r\n          v-show=\"!isNext\"\r\n          @submit.native.prevent\r\n          :disabled=\"disabled\"\r\n        >\r\n          <el-form-item prop=\"loginName\">\r\n            <el-input\r\n              v-model=\"resetForm.loginName\"\r\n              placeholder=\"手机号/邮箱\"\r\n              @keyup.enter.native=\"next('resetForm')\"\r\n            >\r\n              <img src=\"/static/image/login_icon_user.png\" slot=\"prefix\" />\r\n            </el-input>\r\n          </el-form-item>\r\n          <el-form-item class=\"operateBtn\">\r\n            <button\r\n              type=\"button\"\r\n              class=\"roundBtn\"\r\n              @click=\"next('resetForm')\"\r\n              :disabled=\"disabled\"\r\n            >下一步</button>\r\n          </el-form-item>\r\n          <div class=\"center\">\r\n            <router-link class=\"textBtn\" to=\"/login\">去登录</router-link>\r\n          </div>\r\n        </el-form>\r\n        <el-form\r\n          :model=\"nextForm\"\r\n          :rules=\"resetRules\"\r\n          ref=\"nextForm\"\r\n          v-show=\"isNext\"\r\n          @submit.native.prevent\r\n          :disabled=\"disabled\"\r\n        >\r\n          <el-form-item prop=\"password\">\r\n            <el-input type=\"password\" v-model=\"nextForm.password\" placeholder=\"新密码\">\r\n              <img src=\"/static/image/login_icon_psw.png\" slot=\"prefix\" />\r\n            </el-input>\r\n          </el-form-item>\r\n          <el-form-item prop=\"comfirPassword\">\r\n            <el-input\r\n              type=\"password\"\r\n              v-model=\"nextForm.comfirPassword\"\r\n              placeholder=\"确认密码\"\r\n              @keyup.enter.native=\"reset('nextForm')\"\r\n            >\r\n              <img src=\"/static/image/login_icon_psw.png\" slot=\"prefix\" />\r\n            </el-input>\r\n          </el-form-item>\r\n          <el-form-item class=\"operateBtn\">\r\n            <button\r\n              type=\"button\"\r\n              class=\"roundBtn\"\r\n              @click=\"reset('nextForm')\"\r\n              :disabled=\"disabled\"\r\n            >确认重置</button>\r\n          </el-form-item>\r\n          <div class=\"center\">\r\n            <router-link class=\"textBtn\" to=\"/login\">去登录</router-link>\r\n          </div>\r\n        </el-form>\r\n      </el-col>\r\n    </el-row>\r\n    <el-dialog\r\n      :visible.sync=\"userOneDialog\"\r\n      width=\"450px\"\r\n      :close-on-click-modal=\"false\"\r\n      class=\"dialogTitle\"\r\n    >\r\n      <div slot=\"title\" class=\"header-title\">\r\n        <span class=\"title-age\">验证码验证</span>\r\n      </div>\r\n      <el-form\r\n        :model=\"userOneForm\"\r\n        ref=\"userOneForm\"\r\n        :rules=\"resetRules\"\r\n        style=\"width:80%;margin:0 auto\"\r\n        @submit.native.prevent\r\n        :disabled=\"disabled\"\r\n      >\r\n        <el-form-item class=\"center\">\r\n          <span>验证码发送至{{verifys[0].label}},注意查收</span>\r\n        </el-form-item>\r\n        <el-form-item prop=\"verifyCode\">\r\n          <el-input\r\n            v-model=\"userOneForm.verifyCode\"\r\n            placeholder=\"验证码\"\r\n            @keyup.enter.native=\"resetCode('userOneForm')\"\r\n            maxlength=\"6\"\r\n          >\r\n            <img src=\"/static/image/login_icon_code.png\" slot=\"prefix\" />\r\n            <button\r\n              type=\"button\"\r\n              id=\"getCode\"\r\n              class=\"roundBtn rimBtn getCodeBtn\"\r\n              :disabled=\"disabled\"\r\n              @click=\"getCode('getCode',verifys[0].verifyType)\"\r\n              slot=\"suffix\"\r\n            >获取验证码</button>\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item class=\"center\" v-if=\"verifys.length>1\">\r\n          <span>验证码发送至{{verifys[1].label}},注意查收</span>\r\n        </el-form-item>\r\n        <el-form-item prop=\"verifyCode\" v-if=\"verifys.length>1\">\r\n          <el-input\r\n            v-model=\"userOneForm.verifyCode2\"\r\n            placeholder=\"验证码\"\r\n            @keyup.enter.native=\"resetCode('userOneForm')\"\r\n            maxlength=\"6\"\r\n          >\r\n            <img src=\"/static/image/login_icon_code.png\" slot=\"prefix\" />\r\n            <button\r\n              type=\"button\"\r\n              id=\"getCode2\"\r\n              class=\"roundBtn rimBtn getCodeBtn\"\r\n              @click=\"getCode('getCode2',verifys[1].verifyType)\"\r\n              slot=\"suffix\"\r\n            >获取验证码</button>\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item class=\"center operateBtn\">\r\n          <button type=\"button\" @click=\"resetCode('userOneForm')\" class=\"roundBtn\">确定</button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n    <el-dialog\r\n      :visible.sync=\"isAliyun\"\r\n      width=\"350px\"\r\n      :close-on-click-modal=\"false\"\r\n      class=\"dialogTitle\"\r\n    >\r\n      <div slot=\"title\" class=\"header-title\">\r\n        <span class=\"title-age\">人机验证</span>\r\n      </div>\r\n      <div id=\"captcha\"></div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport validate from \"@/utils/validate\";\r\nimport { codeMsg } from \"@/utils/comm.js\";\r\nimport { aliyunVerify } from \"@/utils/comm\";\r\nexport default {\r\n  name: \"login\",\r\n  data() {\r\n    // 手机号邮箱验证\r\n    var checkUser = (rule, value, callback) => {\r\n      if (value.match(/@/) != null) {\r\n        var reg = /[\\w!#$%&'*+/=?^_`{|}~-]+(?:\\.[\\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\\w](?:[\\w-]*[\\w])?\\.)+[\\w](?:[\\w-]*[\\w])?/;\r\n        if (!reg.test(value)) {\r\n          callback(new Error(\"请输入正确的邮箱地址\"));\r\n        } else {\r\n          callback();\r\n        }\r\n      } else {\r\n        var reg = /^[1][3,4,5,6,7,8,9][0-9]{9}$/;\r\n        if (!reg.test(value)) {\r\n          callback(new Error(\"请输入正确的手机号\"));\r\n        } else {\r\n          callback();\r\n        }\r\n      }\r\n    };\r\n    // 密码验证\r\n    var validatePass = (rule, value, callback) => {\r\n      var reg = new RegExp(/^(?![^a-zA-Z]+$)(?!\\D+$)/);\r\n      if (!reg.test(value)) {\r\n        callback(new Error(\"请输入6-20位带数字和字母的登录密码\"));\r\n      } else {\r\n        if (this.nextForm.comfirPassword !== \"\") {\r\n          this.$refs.nextForm.validateField(\"comfirPassword\");\r\n        }\r\n        callback();\r\n      }\r\n    };\r\n    // 确认密码验证\r\n    var validatePass2 = (rule, value, callback) => {\r\n      if (value !== this.nextForm.password) {\r\n        callback(new Error(\"密码不一致\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n      resetForm: {\r\n        loginName: \"\"\r\n      },\r\n      isNext: false,\r\n      nextForm: {\r\n        password: \"\",\r\n        comfirPassword: \"\"\r\n      },\r\n      userOneDialog: false,\r\n      userOneForm: {\r\n        verifyCode: \"\",\r\n        verifyCode2: \"\"\r\n      },\r\n      resetRules: {\r\n        loginName: [\r\n          {\r\n            required: true,\r\n            message: \"请输入用户名/邮箱\",\r\n            trigger: \"blur\"\r\n          },\r\n          { validator: checkUser, trigger: \"blur\" }\r\n        ],\r\n        password: [\r\n          {\r\n            required: true,\r\n            message: \"请输入密码\",\r\n            trigger: \"blur\"\r\n          },\r\n          {\r\n            min: 6,\r\n            max: 20,\r\n            message: \"请输入6-20位包含数字和字母的密码\",\r\n            trigger: \"blur\"\r\n          },\r\n          { validator: validatePass, trigger: \"blur\" }\r\n        ],\r\n        comfirPassword: [\r\n          {\r\n            required: true,\r\n            message: \"请输入密码\",\r\n            trigger: \"blur\"\r\n          },\r\n          {\r\n            min: 6,\r\n            max: 20,\r\n            message: \"请输入6-20位包含数字和字母的密码\",\r\n            trigger: \"blur\"\r\n          },\r\n          { validator: validatePass2, trigger: \"blur\" }\r\n        ],\r\n        verifyCode: [\r\n          {\r\n            required: true,\r\n            message: \"请输入验证码\",\r\n            trigger: \"blur\"\r\n          },\r\n          {\r\n            min: 6,\r\n            max: 6,\r\n            message: \"请输入6位数字的验证码\",\r\n            trigger: \"blur\"\r\n          },\r\n          { validator: validate.FormValidate.Form().checkCode, trigger: \"blur\" }\r\n        ]\r\n      },\r\n      isAliyun: false,\r\n      verifyId: \"\",\r\n      verifyForm: \"\",\r\n      verifys: [\r\n        { label: \"\", verifyType: \"\" },\r\n        { label: \"\", verifyType: \"\" }\r\n      ],\r\n      disabled: false\r\n    };\r\n  },\r\n  methods: {\r\n    // 下一步\r\n    next(formName) {\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          this.disabled = true;\r\n          this.forgotPassword();\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    // 重置密码\r\n    reset(formName) {\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          this.disabled = true;\r\n          this.forgotPassword(\"reset\");\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    // 验证码\r\n    resetCode(formName) {\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          var verifyCode = [];\r\n          verifyCode.push({\r\n            verifyType: this.verifys[0].verifyType,\r\n            verifyCode: this.userOneForm.verifyCode\r\n          });\r\n          if (this.verifys.length > 1) {\r\n            verifyCode.push({\r\n              verifyType: this.verifys[1].verifyType,\r\n              verifyCode: this.userOneForm.verifyCode2\r\n            });\r\n          }\r\n          this.$api\r\n            .checkCaptcha({\r\n              action: \"verify\",\r\n              verifyCode: JSON.stringify(verifyCode),\r\n              verifyType: \"user_all\",\r\n              verifyId: this.verifyId\r\n            })\r\n            .then(res => {\r\n              this.verifyForm = res.messages.data;\r\n              this.forgotPassword(\"resetCode\");\r\n            })\r\n            .catch(err => {\r\n              this.$message.error(err.messages.error.message);\r\n            });\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    // 重置密码\r\n    forgotPassword(type) {\r\n      var parames = \"\";\r\n      if (type == undefined) {\r\n        //账号验证\r\n        parames = {\r\n          action: \"validateLoginName\",\r\n          loginName: this.resetForm.loginName\r\n        };\r\n      } else if (type == \"aliyun\") {\r\n        //人机验证\r\n        parames = {\r\n          action: \"validateLoginName\",\r\n          loginName: this.resetForm.loginName,\r\n          ...this.verifyForm\r\n        };\r\n      } else if (type == \"reset\") {\r\n        //重置密码\r\n        parames = {\r\n          passportId: this.passportId,\r\n          password: this.nextForm.password,\r\n          password1: this.nextForm.comfirPassword,\r\n          sign: \"168node\"\r\n        };\r\n      } else if (type == \"resetCode\") {\r\n        parames = {\r\n          passportId: this.passportId,\r\n          password: this.nextForm.password,\r\n          password1: this.nextForm.comfirPassword,\r\n          ...this.verifyForm\r\n        };\r\n      }\r\n      this.$api\r\n        .forgotPassword(parames)\r\n        .then(res => {\r\n          this.disabled = false;\r\n          if (\r\n            res.messages.data.ret == true &&\r\n            res.messages.data.ret != undefined\r\n          ) {\r\n            this.$message(\"密码重置成功\");\r\n            this.$router.push({ path: \"/login\" });\r\n          }\r\n          this.isNext = true;\r\n          this.passportId = res.messages.data.passportId;\r\n        })\r\n        .catch(err => {\r\n          this.disabled = false;\r\n          if (err.messages.error.code == \"verify_required\") {\r\n            var data = JSON.parse(err.messages.error.message)[0];\r\n            // 人机验证ID\r\n            this.verifyId = data.verifyId;\r\n            if (data.verifyType == \"anti_robot\") {\r\n              this.isAliyun = true;\r\n              aliyunVerify(this.verifyId, res => {\r\n                this.isAliyun = false;\r\n                this.verifyForm = res.messages.data;\r\n                this.forgotPassword(\"aliyun\");\r\n              });\r\n            }\r\n            if (data.verifyType == \"user_all\") {\r\n              // 发送验证码信息\r\n              this.verifys = data.verifys;\r\n              this.userOneDialog = true;\r\n              setTimeout(() => {\r\n                codeMsg(\"getCode\");\r\n                if (this.verifys.length > 1) {\r\n                  codeMsg(\"getCode2\");\r\n                }\r\n              }, 500);\r\n            }\r\n          } else {\r\n            this.$message.error(err.messages.error.message);\r\n          }\r\n        });\r\n    },\r\n    // 获取验证码\r\n    getCode(el, verifyType) {\r\n      var parames = \"\";\r\n      if (verifyType == \"user_email\") {\r\n        parames = {\r\n          action: \"refresh\",\r\n          type: verifyType,\r\n          verifyId: this.verifyId\r\n        };\r\n      } else {\r\n        parames = {\r\n          action: \"refresh\",\r\n          type: verifyType,\r\n          verifyId: this.verifyId,\r\n          sign: \"168node\"\r\n        };\r\n      }\r\n      this.$api.checkCaptcha(parames).then(res => {\r\n        codeMsg(el);\r\n        this.verifyForm = res.messages.data;\r\n      });\r\n    },\r\n\r\n    // 表单重置\r\n    resetFields(formName) {\r\n      this.$refs[formName].resetFields();\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.resetPass .el-form {\r\n  height: 200px;\r\n}\r\n.password {\r\n  position: absolute;\r\n  right: 10px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n}\r\n.password:hover {\r\n  cursor: pointer;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/personalCenter/forgetPassword.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"userOperate\",attrs:{\"id\":\"userOperate\"}},[_c('el-row',{staticClass:\"userAction resetPass\"},[_c('el-col',{staticClass:\"center\",attrs:{\"span\":12}},[_c('img',{attrs:{\"src\":\"/static/image/loignImg.png\",\"width\":\"408\"}})]),_vm._v(\" \"),_c('el-col',{staticClass:\"userActionItem\",attrs:{\"span\":12}},[_c('p',{staticClass:\"center userActionTitle\"},[_vm._v(\"重置密码\")]),_vm._v(\" \"),_c('el-form',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isNext),expression:\"!isNext\"}],ref:\"resetForm\",attrs:{\"model\":_vm.resetForm,\"rules\":_vm.resetRules,\"disabled\":_vm.disabled},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"prop\":\"loginName\"}},[_c('el-input',{attrs:{\"placeholder\":\"手机号/邮箱\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.next('resetForm')}},model:{value:(_vm.resetForm.loginName),callback:function ($$v) {_vm.$set(_vm.resetForm, \"loginName\", $$v)},expression:\"resetForm.loginName\"}},[_c('img',{attrs:{\"slot\":\"prefix\",\"src\":\"/static/image/login_icon_user.png\"},slot:\"prefix\"})])],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"operateBtn\"},[_c('button',{staticClass:\"roundBtn\",attrs:{\"type\":\"button\",\"disabled\":_vm.disabled},on:{\"click\":function($event){return _vm.next('resetForm')}}},[_vm._v(\"下一步\")])]),_vm._v(\" \"),_c('div',{staticClass:\"center\"},[_c('router-link',{staticClass:\"textBtn\",attrs:{\"to\":\"/login\"}},[_vm._v(\"去登录\")])],1)],1),_vm._v(\" \"),_c('el-form',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isNext),expression:\"isNext\"}],ref:\"nextForm\",attrs:{\"model\":_vm.nextForm,\"rules\":_vm.resetRules,\"disabled\":_vm.disabled},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"新密码\"},model:{value:(_vm.nextForm.password),callback:function ($$v) {_vm.$set(_vm.nextForm, \"password\", $$v)},expression:\"nextForm.password\"}},[_c('img',{attrs:{\"slot\":\"prefix\",\"src\":\"/static/image/login_icon_psw.png\"},slot:\"prefix\"})])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"comfirPassword\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"确认密码\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.reset('nextForm')}},model:{value:(_vm.nextForm.comfirPassword),callback:function ($$v) {_vm.$set(_vm.nextForm, \"comfirPassword\", $$v)},expression:\"nextForm.comfirPassword\"}},[_c('img',{attrs:{\"slot\":\"prefix\",\"src\":\"/static/image/login_icon_psw.png\"},slot:\"prefix\"})])],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"operateBtn\"},[_c('button',{staticClass:\"roundBtn\",attrs:{\"type\":\"button\",\"disabled\":_vm.disabled},on:{\"click\":function($event){return _vm.reset('nextForm')}}},[_vm._v(\"确认重置\")])]),_vm._v(\" \"),_c('div',{staticClass:\"center\"},[_c('router-link',{staticClass:\"textBtn\",attrs:{\"to\":\"/login\"}},[_vm._v(\"去登录\")])],1)],1)],1)],1),_vm._v(\" \"),_c('el-dialog',{staticClass:\"dialogTitle\",attrs:{\"visible\":_vm.userOneDialog,\"width\":\"450px\",\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.userOneDialog=$event}}},[_c('div',{staticClass:\"header-title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('span',{staticClass:\"title-age\"},[_vm._v(\"验证码验证\")])]),_vm._v(\" \"),_c('el-form',{ref:\"userOneForm\",staticStyle:{\"width\":\"80%\",\"margin\":\"0 auto\"},attrs:{\"model\":_vm.userOneForm,\"rules\":_vm.resetRules,\"disabled\":_vm.disabled},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{staticClass:\"center\"},[_c('span',[_vm._v(\"验证码发送至\"+_vm._s(_vm.verifys[0].label)+\",注意查收\")])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"verifyCode\"}},[_c('el-input',{attrs:{\"placeholder\":\"验证码\",\"maxlength\":\"6\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.resetCode('userOneForm')}},model:{value:(_vm.userOneForm.verifyCode),callback:function ($$v) {_vm.$set(_vm.userOneForm, \"verifyCode\", $$v)},expression:\"userOneForm.verifyCode\"}},[_c('img',{attrs:{\"slot\":\"prefix\",\"src\":\"/static/image/login_icon_code.png\"},slot:\"prefix\"}),_vm._v(\" \"),_c('button',{staticClass:\"roundBtn rimBtn getCodeBtn\",attrs:{\"slot\":\"suffix\",\"type\":\"button\",\"id\":\"getCode\",\"disabled\":_vm.disabled},on:{\"click\":function($event){return _vm.getCode('getCode',_vm.verifys[0].verifyType)}},slot:\"suffix\"},[_vm._v(\"获取验证码\")])])],1),_vm._v(\" \"),(_vm.verifys.length>1)?_c('el-form-item',{staticClass:\"center\"},[_c('span',[_vm._v(\"验证码发送至\"+_vm._s(_vm.verifys[1].label)+\",注意查收\")])]):_vm._e(),_vm._v(\" \"),(_vm.verifys.length>1)?_c('el-form-item',{attrs:{\"prop\":\"verifyCode\"}},[_c('el-input',{attrs:{\"placeholder\":\"验证码\",\"maxlength\":\"6\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.resetCode('userOneForm')}},model:{value:(_vm.userOneForm.verifyCode2),callback:function ($$v) {_vm.$set(_vm.userOneForm, \"verifyCode2\", $$v)},expression:\"userOneForm.verifyCode2\"}},[_c('img',{attrs:{\"slot\":\"prefix\",\"src\":\"/static/image/login_icon_code.png\"},slot:\"prefix\"}),_vm._v(\" \"),_c('button',{staticClass:\"roundBtn rimBtn getCodeBtn\",attrs:{\"slot\":\"suffix\",\"type\":\"button\",\"id\":\"getCode2\"},on:{\"click\":function($event){return _vm.getCode('getCode2',_vm.verifys[1].verifyType)}},slot:\"suffix\"},[_vm._v(\"获取验证码\")])])],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',{staticClass:\"center operateBtn\"},[_c('button',{staticClass:\"roundBtn\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.resetCode('userOneForm')}}},[_vm._v(\"确定\")])])],1)],1),_vm._v(\" \"),_c('el-dialog',{staticClass:\"dialogTitle\",attrs:{\"visible\":_vm.isAliyun,\"width\":\"350px\",\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.isAliyun=$event}}},[_c('div',{staticClass:\"header-title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('span',{staticClass:\"title-age\"},[_vm._v(\"人机验证\")])]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"captcha\"}})])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-23cbe279\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/personalCenter/forgetPassword.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-23cbe279\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./forgetPassword.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./forgetPassword.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./forgetPassword.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-23cbe279\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./forgetPassword.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-23cbe279\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/personalCenter/forgetPassword.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}