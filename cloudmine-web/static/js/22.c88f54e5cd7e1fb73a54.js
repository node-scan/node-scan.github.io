webpackJsonp([22],{UGMr:function(t,e){},ZpSe:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={name:"bulletin",data:function(){return{noticeData:[],totalCount:0,page:1,size:5,moreMsg:!0,icon:"el-icon-d-arrow-right"}},methods:{getNoticeData:function(){var t=this;this.icon="el-icon-loading";var e=this.page;this.$api.getNotice({page:e,size:this.size}).then(function(e){console.log(e),t.totalCount=e.page.totalCount,t.page++;for(var a=0;a<e.data.length;a++)e.data[a].imgSrc=t.getImgSrc(e.data[a].content),e.data[a].content=e.data[a].content.replace(/<(style|script|iframe)[^>]*?>[\s\S]+?<\/\1\s*>/gi,"").replace(/<[^>]+?>/g,"").replace(/\s+/g," ").replace(/ /g," ").replace(/>/g," "),t.noticeData.push(e.data[a]);t.noticeData.length>=t.totalCount&&(t.moreMsg=!1),t.icon="el-icon-d-arrow-right"})},getImgSrc:function(t){var e=/src=[\'\"]?([^\'\"]*)[\'\"]?/i,a=t.match(/<img.*?(?:>|\/>)/gi);a=null==a?[]:a;for(var n=[],i=0;i<a.length;i++)n=a[i].match(e);return n.length>0?n[0].slice(5,-1):""},loadMore:function(){this.noticeData.length<this.totalCount&&(console.log(2),this.getNoticeData())}},mounted:function(){this.getNoticeData()}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bulletin"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),t._v(" "),a("el-breadcrumb-item",[a("router-link",{attrs:{to:{path:"/bulletin"}}},[t._v("资讯&公告")])],1)],1),t._v(" "),a("ul",t._l(t.noticeData,function(e,n){return a("li",{key:n},[a("div",{staticClass:"noticeLeft"},[a("h4",{on:{click:function(a){t.$router.push("/bulletinDetails/"+t.$Base64.encode(e.id))}}},[t._v("\n          "+t._s(e.title)+"\n        ")]),t._v(" "),a("p",{staticClass:"noticeCon"},[t._v(t._s(e.content))]),t._v(" "),a("div",{staticClass:"noticeTime"},[t._v("\n          发布于："+t._s(t._f("datetimeparse")(e.createDate,"YYYY-MM-dd"))+"\n          "),a("span",{on:{click:function(a){t.$router.push("/bulletinDetails/"+t.$Base64.encode(e.id))}}},[t._v("详情")])])]),t._v(" "),""!=e.imgSrc?a("img",{attrs:{src:e.imgSrc,alt:""}}):t._e()])}),0),t._v(" "),t.moreMsg?a("div",{staticClass:"noticeSeeMore btns",on:{click:t.loadMore}},[t._v("\n    加载更多 "),a("i",{class:t.icon})]):a("div",{staticClass:"noticeSeeMore"},[t._v("暂无更多数据")])],1)},staticRenderFns:[]};var o=a("VU/8")(n,i,!1,function(t){a("UGMr")},"data-v-223010ec",null);e.default=o.exports}});
//# sourceMappingURL=22.c88f54e5cd7e1fb73a54.js.map