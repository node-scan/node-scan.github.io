{"version":3,"sources":["webpack:///src/components/country.vue","webpack:///./src/components/country.vue?e42b","webpack:///./src/components/country.vue","webpack:///src/pages/personalCenter/userInfo.vue","webpack:///./src/pages/personalCenter/userInfo.vue?d186","webpack:///./src/pages/personalCenter/userInfo.vue"],"names":["components_country","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","country","tel","directives","name","rawName","value","countriesShow","expression","staticStyle","height","_l","item","index","key","class","countryNow","staticRenderFns","Component","__webpack_require__","normalizeComponent","data","countries","methods","getCountry","_this","$api","then","res","messages","countryName","find","$emit","checkCountry","mounted","ssrContext","__webpack_exports__","userInfo","components","basicInfo","bindingDialog","bindingForm","email","verifyCode","mobile","isAliyun","verifyToken","bindingRules","required","message","trigger","validator","rule","callback","test","registerEmail","action","catch","err","Error","error","registerMobile","id","min","max","validate","FormValidate","Form","checkCode","bindingOperation","validCodeFrom","verifyInfo","verify","unBindingOperation","unBindingDialog","unBindingForm","unBindingRules","verifyId","binding","_this2","extends_default","link","$message","Object","comm","getCode","el","_this3","$refs","validateField","code","sign","formName","unBindingClick","_this4","loginId","$store","state","info","unRegister","loginType","JSON","parse","unBinding","_this5","getUnBindingCode","_this6","checkCaptcha","_this7","valid","unBidingCode","_this8","resetForm","resetFields","computed","vuex_esm","personalCenter_userInfo","attrs","label-position","size","label","disabled","model","$$v","$set","span","_e","hasMobile","hasEmail","on","click","$event","type","visible","width","close-on-click-modal","update:visible","close","slot","ref","hide-required-asterisk","rules","prop","maxlength","gutter","nativeOn","submit","preventDefault"],"mappings":"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","file":"static/js/1.7536d08afaccc16baca8.js","sourcesContent":["<template>\r\n  <div class=\"phoneCity\">\r\n    <div class=\"countryChange\">\r\n      <span>+{{country.tel}}</span>\r\n      <i class=\"el-icon-arrow-right\" v-show=\"!countriesShow\"></i>\r\n      <i class=\"el-icon-arrow-down\" v-show=\"countriesShow\"></i>\r\n    </div>\r\n    <div class=\"countries\" v-show=\"countriesShow\">\r\n      <el-scrollbar style=\"height:100%\">\r\n        <div\r\n          v-for=\"(item,index) of countries\"\r\n          :key=\"index\"\r\n          class=\"countryItem\"\r\n          :class=\"{'countryNow':item.tel == country.tel}\"\r\n        >{{item.name}}</div>\r\n      </el-scrollbar>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"country\",\r\n  data() {\r\n    return {\r\n      countries: [],\r\n      countriesShow: false,\r\n      country: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    getCountry() {\r\n      this.$api.getCountry().then(res => {\r\n        this.countries = res.messages.data.countries;\r\n        this.countryName = res.messages.data.country;\r\n        this.country = res.messages.data.countries.find(item => {\r\n          return item.tel == \"86\";\r\n        });\r\n        this.$emit(\"getCountry\", this.country);\r\n      });\r\n    },\r\n    checkCountry(item) {\r\n      this.country = item;\r\n      this.countriesShow = !this.countriesShow;\r\n      this.$emit(\"getCountry\", this.country);\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getCountry();\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.countries {\r\n  width: 100px;\r\n  height: 150px;\r\n  background: rgba(255, 255, 255, 1);\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.12), 0 0 6px rgba(0, 0, 0, 0.04);\r\n  border-radius: 4px;\r\n  position: absolute;\r\n  top: 40px;\r\n  left: 0;\r\n  z-index: 999;\r\n}\r\n.countryItem {\r\n  padding: 0 3px;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n}\r\n.countryItem:hover {\r\n  background: rgb(212, 212, 212);\r\n  cursor: pointer;\r\n}\r\n.countryChange:hover {\r\n  cursor: pointer;\r\n}\r\n.countryNow {\r\n  background: rgba(82, 81, 81, 0.12);\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/country.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"phoneCity\"},[_c('div',{staticClass:\"countryChange\"},[_c('span',[_vm._v(\"+\"+_vm._s(_vm.country.tel))]),_vm._v(\" \"),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.countriesShow),expression:\"!countriesShow\"}],staticClass:\"el-icon-arrow-right\"}),_vm._v(\" \"),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.countriesShow),expression:\"countriesShow\"}],staticClass:\"el-icon-arrow-down\"})]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.countriesShow),expression:\"countriesShow\"}],staticClass:\"countries\"},[_c('el-scrollbar',{staticStyle:{\"height\":\"100%\"}},_vm._l((_vm.countries),function(item,index){return _c('div',{key:index,staticClass:\"countryItem\",class:{'countryNow':item.tel == _vm.country.tel}},[_vm._v(_vm._s(item.name))])}),0)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-763594d8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/country.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-763594d8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./country.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./country.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./country.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-763594d8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./country.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-763594d8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/country.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"userInfo\">\r\n    <el-form label-position=\"top\" size=\"small\">\r\n      <el-form-item label=\"昵称\">\r\n        <el-input v-model=\"this.$store.state.info.nickName\" disabled></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"手机号\">\r\n        <el-row v-show=\"this.$store.state.info.hasMobile\">\r\n          <el-col :span=\"20\">\r\n            <el-input\r\n              v-model=\"this.$store.state.info.mobile\"\r\n              disabled\r\n              v-if=\"this.$store.state.info.hasMobile\"\r\n            ></el-input>\r\n          </el-col>\r\n          <el-col\r\n            :span=\"4\"\r\n            class=\"center\"\r\n            v-show=\"this.$store.state.info.hasMobile && this.$store.state.info.hasEmail\"\r\n          >\r\n            <span\r\n              class=\"unBinding\"\r\n              @click=\"unBindingDialog = true;unBindingOperation = 'mobile';unBindingClick()\"\r\n            >解绑</span>\r\n          </el-col>\r\n        </el-row>\r\n        <button\r\n          type=\"button\"\r\n          class=\"normalBtn rimBtn\"\r\n          v-show=\"!this.$store.state.info.hasMobile\"\r\n          @click=\"bindingDialog = true;bindingOperation = 'mobile'\"\r\n        >绑 定</button>\r\n      </el-form-item>\r\n      <el-form-item label=\"邮箱\">\r\n        <el-row v-show=\"this.$store.state.info.hasEmail\">\r\n          <el-col :span=\"20\">\r\n            <el-input v-model=\"this.$store.state.info.email\" disabled></el-input>\r\n          </el-col>\r\n          <el-col\r\n            :span=\"4\"\r\n            class=\"center\"\r\n            v-show=\"this.$store.state.info.hasMobile && this.$store.state.info.hasEmail\"\r\n          >\r\n            <span\r\n              class=\"unBinding\"\r\n              @click=\"unBindingDialog = true;unBindingOperation = 'email';unBindingClick()\"\r\n            >解绑</span>\r\n          </el-col>\r\n        </el-row>\r\n        <button\r\n          type=\"button\"\r\n          class=\"normalBtn rimBtn\"\r\n          v-show=\"!this.$store.state.info.hasEmail \"\r\n          @click=\"bindingDialog = true;bindingOperation='email';\"\r\n        >绑定</button>\r\n      </el-form-item>\r\n    </el-form>\r\n    <!-- 绑定邮箱地址或手机号 -->\r\n    <el-dialog\r\n      :visible.sync=\"bindingDialog\"\r\n      width=\"500px\"\r\n      :close-on-click-modal=\"false\"\r\n      @close=\"resetForm('bindingForm')\"\r\n      class=\"dialogTitle\"\r\n    >\r\n      <div slot=\"title\" class=\"header-title\">\r\n        <span class=\"title-age\">{{bindingOperation == 'mobile'?'绑定手机号':'绑定邮箱'}}</span>\r\n      </div>\r\n      <el-form\r\n        :model=\"bindingForm\"\r\n        ref=\"bindingForm\"\r\n        label-position=\"top\"\r\n        size=\"small\"\r\n        hide-required-asterisk\r\n        :rules=\"bindingRules\"\r\n      >\r\n        <el-form-item label=\"邮箱\" prop=\"email\" v-if=\"bindingOperation == 'email'\">\r\n          <el-input v-model=\"bindingForm.email\" maxlength=\"50\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"手机号\" prop=\"mobile\" v-if=\"bindingOperation == 'mobile'\">\r\n          <el-input v-model=\"bindingForm.mobile\">\r\n            <country v-on:getCountry=\"getCountry($event,'register')\" slot=\"prefix\" />\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"验证码\" prop=\"verifyCode\">\r\n          <el-row :gutter=\"20\">\r\n            <el-col :span=\"18\">\r\n              <el-input v-model=\"bindingForm.verifyCode\" maxlength=\"6\"></el-input>\r\n            </el-col>\r\n            <el-col :span=\"6\">\r\n              <button\r\n                type=\"button\"\r\n                id=\"bindingCode\"\r\n                class=\"textBtn\"\r\n                @click=\"getCode('bindingCode')\"\r\n              >获取验证码</button>\r\n            </el-col>\r\n          </el-row>\r\n        </el-form-item>\r\n        <el-form-item class=\"center\">\r\n          <button type=\"button\" class=\"roundBtn\" @click=\"checkCode('bindingForm')\">确 认</button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n    <!-- 解绑手机号/邮箱 -->\r\n    <el-dialog\r\n      :visible.sync=\"unBindingDialog\"\r\n      width=\"500px\"\r\n      :close-on-click-modal=\"false\"\r\n      @close=\"resetForm('unBindingForm')\"\r\n      @submit.native.prevent\r\n      class=\"dialogTitle\"\r\n    >\r\n      <div slot=\"title\" class=\"header-title\">\r\n        <span class=\"title-age\">{{unBindingOperation == 'mobile'?'解绑手机号':'解绑邮箱'}}</span>\r\n      </div>\r\n      <el-form\r\n        :model=\"unBindingForm\"\r\n        ref=\"unBindingForm\"\r\n        label-position=\"top\"\r\n        size=\"small\"\r\n        hide-required-asterisk\r\n        :rules=\"unBindingRules\"\r\n      >\r\n        <el-form-item label=\"验证码\" prop=\"verifyCode\">\r\n          <el-row :gutter=\"20\">\r\n            <el-col :span=\"18\">\r\n              <el-input v-model=\"unBindingForm.verifyCode\" type=\"text\" maxlength=\"6\"></el-input>\r\n            </el-col>\r\n            <el-col :span=\"6\">\r\n              <button\r\n                type=\"button\"\r\n                class=\"textBtn\"\r\n                @click=\"getUnBindingCode('getCode')\"\r\n                id=\"getCode\"\r\n              >获取验证码</button>\r\n            </el-col>\r\n          </el-row>\r\n        </el-form-item>\r\n        <el-form-item class=\"center\">\r\n          <button type=\"button\" class=\"roundBtn\" @click=\"unBidingCode('unBindingForm')\">确认</button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n    <!-- 人机验证 -->\r\n    <el-dialog\r\n      :visible.sync=\"isAliyun\"\r\n      width=\"350px\"\r\n      :close-on-click-modal=\"false\"\r\n      class=\"dialogTitle\"\r\n    >\r\n      <div slot=\"title\" class=\"header-title\">\r\n        <span class=\"title-age\">人机验证</span>\r\n      </div>\r\n      <div id=\"captcha\"></div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport validate from \"@/utils/validate\";\r\nimport country from \"@/components/country\";\r\nimport { codeMsg } from \"@/utils/comm.js\";\r\nimport { aliyunVerify, getUserInfo } from \"@/utils/comm\";\r\nimport { mapGetters } from \"vuex\";\r\nexport default {\r\n  name: \"userInfo\",\r\n  components: { country },\r\n  data() {\r\n    // 手机号验证\r\n    var checkMobile = (rule, value, callback) => {\r\n      var reg = /^[1][3,4,5,6,7,8,9][0-9]{9}$/;\r\n      if (!reg.test(value)) {\r\n        callback(new Error(\"手机号格式错误\"));\r\n      } else {\r\n        this.$api\r\n          .registerMobile({\r\n            country: this.bindingForm.country.id,\r\n            action: \"validateMobile\",\r\n            mobile: this.bindingForm.mobile\r\n          })\r\n          .then(res => {\r\n            callback();\r\n          })\r\n          .catch(err => {\r\n            callback(new Error(err.messages.error.message));\r\n          });\r\n      }\r\n    };\r\n    // 邮箱验证\r\n    var validEmail = (rule, value, callback) => {\r\n      var reg = /[\\w!#$%&'*+/=?^_`{|}~-]+(?:\\.[\\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\\w](?:[\\w-]*[\\w])?\\.)+[\\w](?:[\\w-]*[\\w])?/;\r\n      if (!reg.test(value)) {\r\n        callback(new Error(\"邮箱格式错误\"));\r\n      } else {\r\n        this.$api\r\n          .registerEmail({\r\n            action: \"validateEmail\",\r\n            email: this.bindingForm.email\r\n          })\r\n          .then(res => {\r\n            callback();\r\n          })\r\n          .catch(err => {\r\n            callback(new Error(err.messages.error.message));\r\n          });\r\n      }\r\n    };\r\n    return {\r\n      // 用户信息\r\n      basicInfo: {},\r\n      // 绑定\r\n      bindingDialog: false,\r\n      bindingForm: {\r\n        email: \"\",\r\n        verifyCode: \"\",\r\n        mobile: \"\",\r\n        country: \"\"\r\n      },\r\n      isAliyun: false,\r\n      verifyToken: \"\",\r\n      bindingRules: {\r\n        email: [\r\n          { required: true, message: \"请输入邮箱\", trigger: \"blur\" },\r\n          { validator: validEmail, trigger: \"blur\" }\r\n        ],\r\n        mobile: [\r\n          { required: true, message: \"请输入手机号\", trigger: \"blur\" },\r\n          { validator: checkMobile, trigger: \"blur\" }\r\n        ],\r\n        verifyCode: [\r\n          { required: true, message: \"请输入验证码\", trigger: \"blur\" },\r\n          {\r\n            min: 6,\r\n            max: 6,\r\n            message: \"请输入6位数字的验证码\",\r\n            trigger: \"blur\"\r\n          },\r\n          { validator: validate.FormValidate.Form().checkCode, trigger: \"blur\" }\r\n        ]\r\n      },\r\n      bindingOperation: \"\",\r\n      validCodeFrom: \"\",\r\n      verifyInfo: \"\",\r\n      verify: \"\",\r\n      // 解绑手机号/邮箱\r\n      unBindingOperation: \"email\",\r\n      unBindingDialog: false,\r\n      unBindingForm: {\r\n        verifyCode: \"\"\r\n      },\r\n      unBindingRules: {\r\n        verifyCode: [\r\n          { required: true, message: \"请输入验证码\", trigger: \"blur\" },\r\n          {\r\n            min: 6,\r\n            max: 20,\r\n            message: \"请输入6位数字的验证码\",\r\n            trigger: \"blur\"\r\n          },\r\n          {\r\n            validator: validate.FormValidate.Form().checkCode,\r\n            trigger: \"blur\"\r\n          }\r\n        ]\r\n      },\r\n      verifyId: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    // 绑定邮箱或手机号\r\n    binding() {\r\n      if (this.bindingOperation == \"mobile\") {\r\n        this.$api\r\n          .registerMobile({\r\n            mobile: this.bindingForm.mobile,\r\n            link: true,\r\n            ...this.verifyInfo\r\n          })\r\n          .then(res => {\r\n            this.bindingDialog = false;\r\n            this.$message(\"手机号码已成功绑定\");\r\n            getUserInfo();\r\n          })\r\n          .catch(err => {\r\n            this.$message.error(err.messages.error.message);\r\n          });\r\n      } else {\r\n        this.$api\r\n          .registerEmail({\r\n            email: this.bindingForm.email,\r\n            link: true,\r\n            ...this.verifyInfo\r\n          })\r\n          .then(res => {\r\n            this.bindingDialog = false;\r\n            this.$message(\"邮箱绑定成功\");\r\n            getUserInfo();\r\n          })\r\n          .catch(err => {\r\n            this.$message.error(err.messages.error.message);\r\n          });\r\n      }\r\n    },\r\n    // 获取验证码\r\n    getCode(el) {\r\n      if (this.bindingOperation == \"email\") {\r\n        this.$refs[\"bindingForm\"].validateField([\"email\"], error => {\r\n          if (error) {\r\n            return false;\r\n          } else {\r\n            this.$api\r\n              .registerEmail({\r\n                action: \"validateEmailSend\",\r\n                email: this.bindingForm.email,\r\n                verifyToken: this.verifyToken\r\n              })\r\n              .then(res => {\r\n                this.$message(\"验证码已成功发送。\");\r\n                this.validCodeFrom = res.messages.data.verifyInfo;\r\n                codeMsg(el);\r\n              })\r\n              .catch(err => {\r\n                if (err.messages.error.code == \"verify_required\") {\r\n                  this.isAliyun = true;\r\n                  aliyunVerify(\"\", res => {\r\n                    this.isAliyun = false;\r\n                    this.verifyToken = res.messages.data.verifyToken;\r\n                    this.getCode(\"bindingCode\");\r\n                  });\r\n                }\r\n              });\r\n          }\r\n        });\r\n      } else {\r\n        this.$refs[\"bindingForm\"].validateField([\"mobile\"], error => {\r\n          if (error) {\r\n            return false;\r\n          } else {\r\n            this.$api\r\n              .registerMobile({\r\n                action: \"validateMobileSend\",\r\n                mobile:\r\n                  \"+\" + this.bindingForm.country.tel + this.bindingForm.mobile,\r\n                country: this.bindingForm.country.id,\r\n                verifyToken: this.verifyToken,\r\n                sign: \"168node\"\r\n              })\r\n              .then(res => {\r\n                this.$message(\"验证码已成功发送。\");\r\n                this.validCodeFrom = res.messages.data.verifyInfo;\r\n                codeMsg(el);\r\n              })\r\n              .catch(err => {\r\n                if (err.messages.error.code == \"verify_required\") {\r\n                  this.isAliyun = true;\r\n                  aliyunVerify(\"\", res => {\r\n                    this.isAliyun = false;\r\n                    this.verifyToken = res.messages.data.verifyToken;\r\n                    this.getCode(\"bindingCode\");\r\n                  });\r\n                }\r\n              });\r\n          }\r\n        });\r\n      }\r\n    },\r\n    // 获取国家\r\n    getCountry(data, formName) {\r\n      if (formName == \"register\") {\r\n        this.bindingForm.country = data;\r\n      }\r\n    },\r\n    // 解绑点击\r\n    unBindingClick() {\r\n      var loginId = \"\";\r\n      if (this.unBindingOperation == \"mobile\") {\r\n        loginId = this.$store.state.info.mobile;\r\n      } else {\r\n        loginId = this.$store.state.info.email;\r\n      }\r\n      this.$api\r\n        .unRegister({\r\n          loginId: loginId,\r\n          loginType: this.unBindingOperation\r\n        })\r\n        .catch(err => {\r\n          try {\r\n            this.verifyId = JSON.parse(err.messages.error.message)[0].verifyId;\r\n          } catch (error) {\r\n            this.$message.error(err.messages.error.message);\r\n          }\r\n        });\r\n    },\r\n    // 解绑邮箱或手机号\r\n    unBinding() {\r\n      var loginId = \"\";\r\n      if (this.unBindingOperation == \"mobile\") {\r\n        loginId = this.$store.state.info.mobile;\r\n      } else {\r\n        loginId = this.$store.state.info.email;\r\n      }\r\n      this.$api\r\n        .unRegister({\r\n          loginId: loginId,\r\n          loginType: this.unBindingOperation,\r\n          ...this.verifyInfo\r\n        })\r\n        .then(res => {\r\n          this.unBindingDialog = false;\r\n          this.$message(\"取消绑定成功\");\r\n          getUserInfo();\r\n        })\r\n        .catch(err => {\r\n          try {\r\n            this.verifyId = JSON.parse(err.messages.error.message)[0].verifyId;\r\n          } catch (error) {\r\n            this.$message.error(err.messages.error.message);\r\n          }\r\n        });\r\n    },\r\n    // 发送解绑验证码\r\n    getUnBindingCode(el) {\r\n      this.$api\r\n        .checkCaptcha({\r\n          action: \"refresh\",\r\n          verifyId: this.verifyId,\r\n          sign: \"168node\"\r\n        })\r\n        .then(res => {\r\n          this.$message(\"验证码已成功发送。\");\r\n          this.verify = res.messages.data;\r\n          codeMsg(el);\r\n        })\r\n        .catch(err => {\r\n          this.$message.error(err.messages.error.message);\r\n        });\r\n    },\r\n    // 绑定验证码验证\r\n    checkCode(formName) {\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          if (this.bindingOperation == \"mobile\") {\r\n            this.$api\r\n              .registerMobile({\r\n                action: \"validateMobileVerify\",\r\n                mobile: this.bindingForm.mobile,\r\n                verifyCode: this.bindingForm.verifyCode,\r\n                ...this.validCodeFrom\r\n              })\r\n              .then(res => {\r\n                this.verifyInfo = res.messages.data.verifyInfo;\r\n                this.binding();\r\n              })\r\n              .catch(err => {\r\n                this.$message.error(\"验证码错误\");\r\n              });\r\n          } else {\r\n            this.$api\r\n              .registerEmail({\r\n                action: \"validateEmailVerify\",\r\n                email: this.bindingForm.email,\r\n                verifyCode: this.bindingForm.verifyCode,\r\n                ...this.validCodeFrom\r\n              })\r\n              .then(res => {\r\n                this.verifyInfo = res.messages.data.verifyInfo;\r\n                this.binding();\r\n              })\r\n              .catch(err => {\r\n                this.$message.error(\"验证码错误\");\r\n              });\r\n          }\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    // 解绑验证码验证\r\n    unBidingCode(formName) {\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          this.$api\r\n            .checkCaptcha({\r\n              action: \"verify\",\r\n              verifyCode: this.unBindingForm.verifyCode,\r\n              ...this.verify\r\n            })\r\n            .then(res => {\r\n              this.verifyInfo = res.messages.data;\r\n              this.unBinding();\r\n            })\r\n            .catch(err => {\r\n              this.$message.error(\"验证码错误\");\r\n            });\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    // 重置表单\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields();\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"changeInfo\"])\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.userInfo {\r\n  padding: 20px;\r\n}\r\n.userInfo .el-form {\r\n  width: 380px;\r\n  margin: 0 auto;\r\n}\r\n.unBinding {\r\n  color: rgba(228, 76, 76, 1);\r\n}\r\n.unBinding:hover {\r\n  cursor: pointer;\r\n}\r\n.OwnerAddr {\r\n  position: relative;\r\n}\r\n.userInfo .textBtn {\r\n  padding: 0;\r\n}\r\n</style>\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/personalCenter/userInfo.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"userInfo\"},[_c('el-form',{attrs:{\"label-position\":\"top\",\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":\"昵称\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(this.$store.state.info.nickName),callback:function ($$v) {_vm.$set(this.$store.state.info, \"nickName\", $$v)},expression:\"this.$store.state.info.nickName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"手机号\"}},[_c('el-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.$store.state.info.hasMobile),expression:\"this.$store.state.info.hasMobile\"}]},[_c('el-col',{attrs:{\"span\":20}},[(this.$store.state.info.hasMobile)?_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(this.$store.state.info.mobile),callback:function ($$v) {_vm.$set(this.$store.state.info, \"mobile\", $$v)},expression:\"this.$store.state.info.mobile\"}}):_vm._e()],1),_vm._v(\" \"),_c('el-col',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.$store.state.info.hasMobile && this.$store.state.info.hasEmail),expression:\"this.$store.state.info.hasMobile && this.$store.state.info.hasEmail\"}],staticClass:\"center\",attrs:{\"span\":4}},[_c('span',{staticClass:\"unBinding\",on:{\"click\":function($event){_vm.unBindingDialog = true;_vm.unBindingOperation = 'mobile';_vm.unBindingClick()}}},[_vm._v(\"解绑\")])])],1),_vm._v(\" \"),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!this.$store.state.info.hasMobile),expression:\"!this.$store.state.info.hasMobile\"}],staticClass:\"normalBtn rimBtn\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.bindingDialog = true;_vm.bindingOperation = 'mobile'}}},[_vm._v(\"绑 定\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"邮箱\"}},[_c('el-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.$store.state.info.hasEmail),expression:\"this.$store.state.info.hasEmail\"}]},[_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(this.$store.state.info.email),callback:function ($$v) {_vm.$set(this.$store.state.info, \"email\", $$v)},expression:\"this.$store.state.info.email\"}})],1),_vm._v(\" \"),_c('el-col',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.$store.state.info.hasMobile && this.$store.state.info.hasEmail),expression:\"this.$store.state.info.hasMobile && this.$store.state.info.hasEmail\"}],staticClass:\"center\",attrs:{\"span\":4}},[_c('span',{staticClass:\"unBinding\",on:{\"click\":function($event){_vm.unBindingDialog = true;_vm.unBindingOperation = 'email';_vm.unBindingClick()}}},[_vm._v(\"解绑\")])])],1),_vm._v(\" \"),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!this.$store.state.info.hasEmail ),expression:\"!this.$store.state.info.hasEmail \"}],staticClass:\"normalBtn rimBtn\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.bindingDialog = true;_vm.bindingOperation='email';}}},[_vm._v(\"绑定\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{staticClass:\"dialogTitle\",attrs:{\"visible\":_vm.bindingDialog,\"width\":\"500px\",\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.bindingDialog=$event},\"close\":function($event){return _vm.resetForm('bindingForm')}}},[_c('div',{staticClass:\"header-title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('span',{staticClass:\"title-age\"},[_vm._v(_vm._s(_vm.bindingOperation == 'mobile'?'绑定手机号':'绑定邮箱'))])]),_vm._v(\" \"),_c('el-form',{ref:\"bindingForm\",attrs:{\"model\":_vm.bindingForm,\"label-position\":\"top\",\"size\":\"small\",\"hide-required-asterisk\":\"\",\"rules\":_vm.bindingRules}},[(_vm.bindingOperation == 'email')?_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{attrs:{\"maxlength\":\"50\"},model:{value:(_vm.bindingForm.email),callback:function ($$v) {_vm.$set(_vm.bindingForm, \"email\", $$v)},expression:\"bindingForm.email\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.bindingOperation == 'mobile')?_c('el-form-item',{attrs:{\"label\":\"手机号\",\"prop\":\"mobile\"}},[_c('el-input',{model:{value:(_vm.bindingForm.mobile),callback:function ($$v) {_vm.$set(_vm.bindingForm, \"mobile\", $$v)},expression:\"bindingForm.mobile\"}},[_c('country',{attrs:{\"slot\":\"prefix\"},on:{\"getCountry\":function($event){return _vm.getCountry($event,'register')}},slot:\"prefix\"})],1)],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"验证码\",\"prop\":\"verifyCode\"}},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":18}},[_c('el-input',{attrs:{\"maxlength\":\"6\"},model:{value:(_vm.bindingForm.verifyCode),callback:function ($$v) {_vm.$set(_vm.bindingForm, \"verifyCode\", $$v)},expression:\"bindingForm.verifyCode\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('button',{staticClass:\"textBtn\",attrs:{\"type\":\"button\",\"id\":\"bindingCode\"},on:{\"click\":function($event){return _vm.getCode('bindingCode')}}},[_vm._v(\"获取验证码\")])])],1)],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"center\"},[_c('button',{staticClass:\"roundBtn\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.checkCode('bindingForm')}}},[_vm._v(\"确 认\")])])],1)],1),_vm._v(\" \"),_c('el-dialog',{staticClass:\"dialogTitle\",attrs:{\"visible\":_vm.unBindingDialog,\"width\":\"500px\",\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.unBindingDialog=$event},\"close\":function($event){return _vm.resetForm('unBindingForm')}},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('div',{staticClass:\"header-title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('span',{staticClass:\"title-age\"},[_vm._v(_vm._s(_vm.unBindingOperation == 'mobile'?'解绑手机号':'解绑邮箱'))])]),_vm._v(\" \"),_c('el-form',{ref:\"unBindingForm\",attrs:{\"model\":_vm.unBindingForm,\"label-position\":\"top\",\"size\":\"small\",\"hide-required-asterisk\":\"\",\"rules\":_vm.unBindingRules}},[_c('el-form-item',{attrs:{\"label\":\"验证码\",\"prop\":\"verifyCode\"}},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":18}},[_c('el-input',{attrs:{\"type\":\"text\",\"maxlength\":\"6\"},model:{value:(_vm.unBindingForm.verifyCode),callback:function ($$v) {_vm.$set(_vm.unBindingForm, \"verifyCode\", $$v)},expression:\"unBindingForm.verifyCode\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('button',{staticClass:\"textBtn\",attrs:{\"type\":\"button\",\"id\":\"getCode\"},on:{\"click\":function($event){return _vm.getUnBindingCode('getCode')}}},[_vm._v(\"获取验证码\")])])],1)],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"center\"},[_c('button',{staticClass:\"roundBtn\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.unBidingCode('unBindingForm')}}},[_vm._v(\"确认\")])])],1)],1),_vm._v(\" \"),_c('el-dialog',{staticClass:\"dialogTitle\",attrs:{\"visible\":_vm.isAliyun,\"width\":\"350px\",\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.isAliyun=$event}}},[_c('div',{staticClass:\"header-title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('span',{staticClass:\"title-age\"},[_vm._v(\"人机验证\")])]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"captcha\"}})])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-fbaea7da\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/personalCenter/userInfo.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-fbaea7da\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./userInfo.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./userInfo.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./userInfo.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-fbaea7da\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./userInfo.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-fbaea7da\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/personalCenter/userInfo.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}